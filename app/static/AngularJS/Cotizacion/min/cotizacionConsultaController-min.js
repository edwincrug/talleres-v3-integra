registrationModule.controller("cotizacionConsultaController",function(t,e,o,n){t.message="Buscando...",t.init=function(){t.Maestro()},t.Detalle=function(e,a){n.getDetail(e,a).then(function(e){if(e.data.length>0){t.total=0,t.articulos=e.data;for(var n=0;n<e.data.length;n++)t.total+=e.data[n].precio*e.data[n].cantidad;$("#cotizacionDetalle").appendTo("body").modal("show"),o.success("Datos cargados.")}else o.info("No se pudo obtener el detalle de esta cotización.")},function(t){o.info("No se pudo obtener el detalle de esta cotización.")})},t.Maestro=function(){t.promise=n.get().then(function(e){e.data.length>0?(t.cotizaciones=e.data,setTimeout(function(){$(".dataTableCotizaciones").DataTable({buttons:[{extend:"copy"},{extend:"csv"},{extend:"excel",title:"ExampleFile"},{extend:"pdf",title:"ExampleFile"},{extend:"print",customize:function(t){$(t.document.body).addClass("white-bg"),$(t.document.body).css("font-size","10px"),$(t.document.body).find("table").addClass("compact").css("font-size","inherit")}}]})},1e3)):o.info("No se encontraron cotizaciones.")},function(t){o.error("No se encontraron cotizaciones, inténtelo más tarde.")})},t.Autorizacion=function(t,o,n,a,i,c){e.set("cita",t),e.set("cotizacion",o),e.set("unidad",n),e.set("estado",1),e.set("desc",a),e.set("work",i),e.set("taller",c),location.href="/cotizacionAutorizacion"},t.Nueva=function(){location.href="/cotizacionNueva"}});